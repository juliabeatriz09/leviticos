<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Fatos Observados (F.O)</title>
    <link rel="stylesheet" href="geral.css">
    <link rel="stylesheet" href="Fo.css">
    <script src="fo.js"></script>      
    <script src="ata.js"></script>
    <script scr="encaminhamento.js"></script>
    

</head>
<body>
    <!-- Cabeçalho com navegação -->
    <header class="header">
        <!-- Container do logo -->
        <div class="logo-container">
            <div class="logo">
                <!-- Placeholder para o logo institucional -->
                <img src="imagens/logocmcc.png" alt="Logo Institucional">
            </div>
        </div>


        <!-- Navegação principal -->
        <nav class="nav-container" id="navContainer">
            <!-- Item de navegação: Consulta -->
            <a href="consulta.html" class="nav-item">
                <div class="nav-icon-container">
                    <!-- Ícone de lupa SVG -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                    </svg>
                </div>
                <div class="nav-text">CONSULTA</div>
            </a>
            <!-- Item de navegação: Cadastro -->
            <a href="index.html" class="nav-item">
                <div class="nav-icon-container">
                    <!-- Ícone de pessoa SVG -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                </div>
                <div class="nav-text">CADASTRO</div>
            </a>
            <!-- Item de navegação: F/O (Fator/Operação) -->
            <a href="teste_fo.html" class="nav-item">
                <div class="nav-icon-container">
                    <!-- Ícones sobrepostos para criar o símbolo -/+ -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="12" y1="5" x2="12" y2="19"></line>
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        style="position: absolute; margin-top: 8px;">
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                    </svg>
                </div>
                <div class="nav-text">F/O</div>
            </a>
            <!-- Item de navegação: Frequência -->
            <a href="freq.html" class="nav-item">
                <div class="nav-icon-container">
                    <!-- Ícone de documento SVG -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                        <line x1="16" y1="13" x2="8" y2="13"></line>
                        <line x1="16" y1="17" x2="8" y2="17"></line>
                        <polyline points="10 9 9 9 8 9"></polyline>
                    </svg>
                </div>
                <div class="nav-text">FREQUÊNCIA</div>
            </a>
        </nav>

        <!-- Botão de menu para dispositivos móveis -->
        <button class="menu-toggle" id="menuToggle">
            <!-- Ícone de hambúrguer SVG -->
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="3" y1="12" x2="21" y2="12"></line>
                <line x1="3" y1="6" x2="21" y2="6"></line>
                <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
        </button>
    </header>
    <main>
        <!-- Container principal da aplicação -->
        <div class="container">
            <!-- Cabeçalho da página -->
            <header class="hae">
                <h1>Registro de Fatos Observados (F.O)</h1>
                <p>Sistema de registro e acompanhamento de observações sobre alunos</p>
            </header>
    
            <!-- Sistema de Abas -->
            <div class="tabs-container">
                <div class="tabs-nav">
                    <button class="tab-button active" onclick="showTab('registro')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                            <line x1="16" y1="13" x2="8" y2="13"></line>
                            <line x1="16" y1="17" x2="8" y2="17"></line>
                        </svg>
                        Registro F.O
                    </button>
                    <button class="tab-button" onclick="showTab('atas')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
                            <path d="M9 11l3 3L22 4"></path>
                            <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
                        </svg>
                        Atas
                    </button>
                    <button class="tab-button" onclick="showTab('encaminhamento')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
                            <path d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                        </svg>
                        Encaminhamento F.O
                    </button>
                </div>
    
                <!-- Conteúdo da Aba: Registro F.O -->
                <div id="registro" class="tab-content active">
                    <!-- Seção de pesquisa de alunos por turma -->
                    <section class="form-section">
                        <h2>Pesquisa de Alunos</h2>
    
                        <!-- Formulário de pesquisa -->
                        <form id="searchForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required" for="aluno-turma">Turma</label>
                                    <select id="aluno-turma" name="turma" required>
                                        <option value="">Selecione</option>
                                        <option value="9º Ano A">9º Ano A</option>
                                        <option value="9º Ano B">9º Ano B</option>
                                        <option value="9º Ano C">9º Ano C</option>
                                        <option value="9º Ano D">9º Ano D</option>
                                        <option value="1º Ano A">1º Ano A</option>
                                        <option value="1º Ano B">1º Ano B</option>
                                        <option value="1º Ano C">1º Ano C</option>
                                        <option value="1º Ano D">1º Ano D</option>
                                        <option value="2º Ano A">2º Ano A</option>
                                        <option value="2º Ano B">2º Ano B</option>
                                        <option value="2º Ano C">2º Ano C</option>
                                        <option value="2º Ano D">2º Ano D</option>
                                        <option value="3º Ano A">3º Ano A</option>
                                        <option value="3º Ano B">3º Ano B</option>
                                        <option value="3º Ano C">3º Ano C</option>
                                        <option value="3º Ano D">3º Ano D</option>
                                    </select>
                                </div>
    
                                <button type="submit" class="btn btn-primary">Buscar Alunos</button>
                            </div>
                        </form>
    
                        <!-- Resultados da pesquisa -->
                        <div class="search-results">
                            
                        </div>
                    </section>
    
                    <!-- Seção de registro do fato observado -->
                    <section class="form-section">
                        <h2>Registro de Fato Observado</h2>
    
                        <form id="registroForm">
                            
                            <div class="form-group">
                                <label for="data">Data do Fato:</label>
                                <input type="date" id="data" name="data" required>
                            </div>
    
                            <div class="form-group">
                                <label for="tipoFato">Tipo de Fato Observado:</label>
                                <select id="tipoFato" name="tipoFato" required>
                                    <option value="">Selecione o tipo de fato</option>
                                    <option value="comportamento-positivo">Comportamento Positivo</option>
                                    <option value="comportamento-negativo">Comportamento Negativo</option>
                                    <option value="desempenho-academico">Desempenho Acadêmico</option>
                                    <option value="participacao-aula">Participação em Aula</option>
                                    <option value="atividade-extracurricular">Atividade Extracurricular</option>
                                    <option value="relacionamento-colegas">Relacionamento com Colegas</option>
                                    <option value="outro">Outro</option>
                                </select>
                            </div>
    
                            <div class="form-group">
                                <label for="observacao">Observação Detalhada:</label>
                                <textarea id="observacao" name="observacao"
                                    placeholder="Descreva o fato observado com detalhes relevantes..." required></textarea>
                            </div>
    
                            <div class="form-group">
                                <label for="monitor">Monitor Responsável:</label>
                                <input type="text" id="monitor" name="monitor" placeholder="Nome do monitor que está registrando" required>
                            </div>
    
                            <div class="buttons-container">
                                <button type="button" class="btn btn-secondary"onclick= " listarfo()">listar</button>
                                <button type="reset" class="btn btn-danger">Cancelar</button>
                                <button type="submit" class="btn btn-primary" onclick="cadastrarfo(event)">Registrar F.O</button>
                            </div>
                        </form>
                    </section>
                </div>
                 <div>
    <table>
        <thead>
            <tr>

                <th>turma</th>
                <th>data</th>
                <th>monitor</th>
                <th>f.o</th>
                 <th>obs</th>
            </tr>
        </thead>
        <tbody id="tabela-fo">
            <!-- Linhas serão preenchidas pelo JavaScript -->
        </tbody>
    </table>
   </div>
    
                <!-- Conteúdo da Aba: Atas -->
                <div id="atas" class="tab-content">
                    <div class="ata-info">
                        <h3>Gestão de Atas de Reuniões</h3>
                        <p>Registre e acompanhe as atas de reuniões relacionadas aos casos dos alunos.</p>
                    </div>
    
                    <!-- Formulário para nova ata -->
                    <section class="form-section">
                        <h2>Nova Ata de Reunião</h2>
                        
                        <form id="ataForm">
                            <div class="form-group">
                                <label for="ataAluno">Aluno:</label>
                                <select id="ataAluno" name="ataAluno" required>
                                    <option value="">Selecione o aluno</option>
                                    <option value="ana-silva">Ana Silva - 20231001</option>
                                    <option value="bruno-santos">Bruno Santos - 20231002</option>
                                    <option value="carolina-oliveira">Carolina Oliveira - 20231003</option>
                                </select>
                            </div>
    
                            <div class="form-group">
                                <label for="ataData">Data da Reunião:</label>
                                <input type="date" id="ataData" name="ataData" required>
                            </div>
    
                            <div class="form-group">
                                <label for="ataAssunto">Assunto da Reunião:</label>
                                <input type="text" id="ataAssunto" name="ataAssunto" placeholder="Tema principal da reunião" required>
                            </div>
    
                            <div class="form-group">
                                <label for="ataMonitor">Monitor:</label>
                                <textarea id="ataMonitor" name="ataMonitor" 
                                    placeholder="Liste os participantes da reunião..." required></textarea>
                            </div>
    
                            <div class="form-group">
                                <label for="ataProfessor">Prof/Funcionário:</label>
                                <textarea id="ataProfessor" name="ataProfessor" 
                                    placeholder="Liste os participantes da reunião..." required></textarea>
                            </div>
    
                            <div class="form-group">
                                <label for="ataConteudo">Conteúdo da Ata:</label>
                                <textarea id="ataConteudo" name="ataConteudo" 
                                    placeholder="Registre os pontos discutidos, decisões tomadas e encaminhamentos..." 
                                    style="min-height: 150px;" required></textarea>
                            </div>
    
                            <div class="form-group">
                                <label for="ataEncaminhamentos">Encaminhamentos:</label>
                                <textarea id="ataEncaminhamentos" name="ataEncaminhamentos" 
                                    placeholder="Liste as ações definidas, responsáveis e prazos..." required></textarea>
                            </div>
    
                            <div class="buttons-container">
                                <button type="button" class="btn btn-secondary">Voltar</button>
                                <button type="reset" class="btn btn-danger">Limpar</button>
                                <button type="submit" class="btn btn-success" onclick="cadastrarata(event)">Salvar Ata</button>
                            </div>
                        </form>
                    </section>
    
                    <!-- Lista de atas existentes -->
                    <section class="form-section">
                        <div class="student-info" id="studentInfo">
                            <button type="button" onclick="listarata()" class="alinhaBtns">Listar</button>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Nome</th>
                                        <th>CGM</th>
                                        <th>professor</th>
                                        <th>Encaminhamento</th>
                                        <th>assunto</th>
                                        <th>data</th>
                                        <th>conteudo</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- listagem -->
                                </tbody>
                            </table>
                        </div>
                    </section>
                </div> <!-- FECHA a aba Atas -->
    
                <!-- Conteúdo da Aba: Encaminhamento -->
                <div id="encaminhamento" class="tab-content">
                    <div class="encaminhar-info">
                        <h3>Encaminhamento de Fatos Observados</h3>
                        <p>Selecione os F.O registrados que necessitam de encaminhamento para outros setores ou profissionais.</p>
                    </div>
    
                    <!-- Filtros para seleção de F.O -->
                    <section class="form-section">
                        <h2>Selecionar Aluno</h2>
                        
                        <form id="filtrosEncaminhamento">
                            <div class="form-group">
                                <label for="filtroTurma">Selecionar Aluno</label>
                                <select id="aluno" name="filtroTurma">
                                    <option value="">Todas as turmas</option>
                                    <option value="1A">1º Ano A</option>
                                    <option value="1B">1º Ano B</option>
                                    <option value="2A">2º Ano A</option>
                                    <option value="2B">2º Ano B</option>
                                    <option value="3A">3º Ano A</option>
                                    <option value="3B">3º Ano B</option>
                                </select>
                            </div>
                    <!-- Lista de F.O disponíveis para encaminhamento -->
                    <!-- <section class="form-section">
                        <h2>F.O Disponíveis para Encaminhamento 
                            <span class="selected-fo-count" id="selectedCount">0 selecionados</span>
                        </h2>
                        
                        <div class="fo-selection-area">
                            <div class="fo-item priority-high" onclick="toggleFOSelection(this)">
                                <div class="fo-info">
                                    <div class="fo-aluno">Ana Silva - 1º Ano A</div>
                                    <div class="fo-data">15/03/2024</div>
                                </div>
                                <div class="fo-tipo tipo-negativo">Comportamento Negativo</div>
                                <div class="fo-observacao">Comportamento agressivo durante o intervalo. Necessita acompanhamento psicológico urgente...</div>
                            </div>
    
                            <div class="fo-item priority-medium" onclick="toggleFOSelection(this)">
                                <div class="fo-info">
                                    <div class="fo-aluno">Bruno Santos - 2º Ano B</div>
                                    <div class="fo-data">12/03/2024</div>
                                </div>
                                <div class="fo-tipo tipo-academico">Desempenho Acadêmico</div>
                                <div class="fo-observacao">Queda significativa nas notas de matemática. Requer reunião com responsáveis...</div>
                            </div>
    
                            <div class="fo-item priority-low" onclick="toggleFOSelection(this)">
                                <div class="fo-info">
                                    <div class="fo-aluno">Carolina Oliveira - 1º Ano A</div>
                                    <div class="fo-data">10/03/2024</div>
                                </div>
                                <div class="fo-tipo tipo-positivo">Comportamento Positivo</div>
                                <div class="fo-observacao">Excelente participação em projeto de ciências. Merece reconhecimento...</div>
                            </div>
    
                            <div class="fo-item priority-medium" onclick="toggleFOSelection(this)">
                                <div class="fo-info">
                                    <div class="fo-aluno">Diego Ferreira - 3º Ano A</div>
                                    <div class="fo-data">08/03/2024</div>
                                </div>
                                <div class="fo-tipo tipo-relacionamento">Relacionamento com Colegas</div>
                                <div class="fo-observacao">Dificuldades de integração social. Recomenda-se acompanhamento psicológico...</div>
                            </div>
    
                            <div class="fo-item priority-high" onclick="toggleFOSelection(this)">
                                <div class="fo-info">
                                    <div class="fo-aluno">Eduarda Lima - 2º Ano A</div>
                                    <div class="fo-data">05/03/2024</div>
                                </div>
                                <div class="fo-tipo tipo-participacao">Participação em Aula</div>
                                <div class="fo-observacao">Não participa das atividades e demonstra sinais de desinteresse constante...</div>
                            </div>
                        </div>
                    </section> -->
    
                    <!-- Formulário de encaminhamento -->
                    <section class="form-section">
                        <h2>Dados do Encaminhamento</h2>
                        
                        <form id="encaminhamentoForm">
                            <!-- <div class="fo-summary">
                                <h4>Resumo dos F.O Selecionados:</h4>
                                <div id="foSummary">
                                    <p>Nenhum F.O selecionado ainda. Clique nos itens acima para selecioná-los.</p>
                                </div>
                            </div> -->
                            
                            <div class="form-group">
                                <label for="ataData">Data de registro:</label>
                                <input type="date" id="encData" name="ataData" required>
                            </div>
    
                            <div class="form-group">
                                <label for="destino">Destino do Encaminhamento:</label>
                                <select id="destino" name="destino" required>
                                    <option value="">Selecione o destino</option>
                                    <option value="coordenacao">Coordenação Pedagógica</option>
                                    <option value="direcao">Direção</option>
                                    <option value="psicologia">Psicologia Escolar</option>
                                    <option value="responsaveis">Responsáveis/Família</option>
                                    <option value="conselho-tutelar">Conselho Tutelar</option>
                                    <option value="outros-profissionais">Outros Profissionais</option>
                                </select>
                            </div>
    
                            <div class="form-group">
                                <label for="destinatario">Destinatário Específico:</label>
                                <input type="text" id="destinatario" name="destinatario" 
                                    placeholder="Nome do profissional ou setor específico">
                            </div>
    
                            <!-- <div class="form-group">
                                <label for="prioridade">Prioridade:</label>
                                <select id="prioridade" name="prioridade" required>
                                    <option value="direcao">Direção</option>
                                    <option value="psicologia">Psicologia Escolar</option>
                                </select>
                            </div> -->

                            <div class="form-group">
                                <label for="ataAssunto">obs:</label>
                                <input type="text" id="obs" name="ataAssunto"  required>
                            </div>
    
                                <div class="buttons-container">
                                    <button type="button" class="btn btn-secondary">Voltar</button>
                                    <button type="reset" class="btn btn-danger">Limpar</button>
                                    <button type="submit" class="btn btn-success" onclick="cadastrarencaminhamento(event)">Registrar Encaminhamento</button>
                                </div>
                                   

    <!-- Rodapé -->
    <!-- <footer class="footer"></footer> -->

    <script>
        // Sistema de Abas
        function showTab(tabId) {
            // Esconder todos os conteúdos das abas
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => {
                content.classList.remove('active');
            });

            // Desativar todos os botões das abas
            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach(button => {
                button.classList.remove('active');
            });

            // Mostrar o conteúdo da aba selecionada
            document.getElementById(tabId).classList.add('active');

            // Ativar o botão da aba selecionada
            event.target.classList.add('active');
        }

        // Função para alternar seleção de F.O
        function toggleFOSelection(element) {
            element.classList.toggle('selected');
            updateSelectedCount();
            updateFOSummary();
        }

        // Atualizar contador de F.O selecionados
        function updateSelectedCount() {
            const selectedFOs = document.querySelectorAll('.fo-item.selected');
            const count = selectedFOs.length;
            document.getElementById('selectedCount').textContent = count + ' selecionados';
        }

        // Limpar seleções
        function limparSelecoes() {
            const selectedFOs = document.querySelectorAll('.fo-item.selected');
            selectedFOs.forEach(fo => {
                fo.classList.remove('selected');
            });
            updateSelectedCount();
            updateFOSummary();
        }

        // Configurar data atual como padrão
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date().toISOString().split('T')[0];
            const dataInput = document.getElementById('data');
            if (dataInput) {
                dataInput.value = today;
            }
            
            const ataDataInput = document.getElementById('ataData');
            if (ataDataInput) {
                ataDataInput.value = today;
            }
        });
    
    </script>
</body>
</html>
